System.register(["jimu-core","jimu-arcgis","esri/widgets/LayerList","esri/widgets/Slider","esri/widgets/Legend","esri/widgets/Print","calcite-components"],(function(e,t){var a={},i={},n={},c={},r={},l={},o={};return{setters:[function(e){a.React=e.React},function(e){i.JimuMapViewComponent=e.JimuMapViewComponent},function(e){n.default=e.default},function(e){c.default=e.default},function(e){r.default=e.default},function(e){l.default=e.default},function(e){o.CalciteAction=e.CalciteAction,o.CalciteActionBar=e.CalciteActionBar,o.CalcitePanel=e.CalcitePanel,o.CalciteShell=e.CalciteShell,o.CalciteShellPanel=e.CalciteShellPanel}],execute:function(){e((()=>{var e={4145:e=>{"use strict";e.exports=o},3447:e=>{"use strict";e.exports=n},9600:e=>{"use strict";e.exports=r},2591:e=>{"use strict";e.exports=l},8579:e=>{"use strict";e.exports=c},6826:e=>{"use strict";e.exports=i},8891:e=>{"use strict";e.exports=a}},t={};function d(a){var i=t[a];if(void 0!==i)return i.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,d),n.exports}d.d=(e,t)=>{for(var a in t)d.o(t,a)&&!d.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.p="";var s={};return d.p=window.jimuConfig.baseUrl,(()=>{"use strict";d.r(s),d.d(s,{default:()=>p});var e=d(8891),t=d(6826),a=d(3447),i=d(8579),n=d(9600),c=d(2591),r=d(4145);const{useEffect:l,useState:o,useRef:u}=e.React;function p(d){var s;const[p,m]=o(null),[f,g]=o(null),h=u(null);function v(e){const t=e.item;if(t.parent&&!t.parent.parent){t.actionsSections=[[{title:"Layer information",className:"esri-icon-description",id:"information"}]];const e=new i.default({min:0,max:1,precision:2,values:[1],visibleElements:{labels:!0,rangeLabels:!0}});t.panel={content:e,className:"esri-icon-sliders-horizontal",title:"Change layer opacity"},e.on("thumb-drag",(e=>{const{value:a}=e;t.layer.opacity=a}))}}const y=e=>{const t=null==e?void 0:e.match(/(?<=href=').+?(?=')/g);let a="";return t&&t.length>0&&(a=t[0]),a};return l((()=>{if(p){const e=p.view;e.container="view-container";const t=new Map;return e.map.allLayers.forEach((e=>{switch(e.type){case"feature":{const a=e;let i;void 0!==a.portalItem&&(i=y(a.portalItem.description)),i?t.set(a.id,i):t.set(a.id,a.url);break}case"map-image":{const a=e.url;t.set(e.id,a);break}case"wms":{const a=e;let i;void 0!==a.portalItem&&(i=y(a.portalItem.description)),i?t.set(a.id,i):t.set(a.id,a.url+"?REQUEST=GetCapabilities");break}}})),h.current&&e.map.allLayers.forEach((e=>{h.current.includes(e.title)?e.visible=!0:e.visible=!1})),new a.default({view:e,selectionEnabled:!0,container:"layers-container",listItemCreatedFunction:v}).on("trigger-action",(e=>{const a=e.action.id,i=e.item;"information"===a&&window.open(t.get(i.layer.id))})),new n.default({view:e,container:"legend-container"}),new c.default({view:e,container:"print-container"}),()=>{}}}),[p]),d.useMapWidgetIds&&d.useMapWidgetIds.length,e.React.createElement("div",{className:"widget-custom-calcite-menu jimu-widget"},e.React.createElement(t.JimuMapViewComponent,{useMapWidgetId:null===(s=d.useMapWidgetIds)||void 0===s?void 0:s[0],onActiveViewChange:e=>{if(p){const e=p.view.map.allLayers.filter((e=>e.visible));h.current=e.map((e=>e.title))}m(e)}}),e.React.createElement(r.CalciteShell,{contentBehind:!0},e.React.createElement(r.CalciteShellPanel,{slot:"primary-panel",detached:!0},e.React.createElement(r.CalciteActionBar,{slot:"action-bar",onCalciteActionBarToggle:e=>{},onClick:e=>{if("CALCITE-ACTION"!==e.target.tagName)return;const t=e.target.dataset.actionId;t!==f?(f&&(document.querySelector(`[data-action-id=${f}]`).active=!1,document.querySelector(`[data-panel-id=${f}]`).hidden=!0),document.querySelector(`[data-action-id=${t}]`).active=!0,document.querySelector(`[data-panel-id=${t}]`).hidden=!1,g(t)):document.querySelector(`[data-panel-id=${f}]`).hidden?document.querySelector(`[data-panel-id=${f}]`).hidden=!1:document.querySelector(`[data-panel-id=${f}]`).hidden=!0}},e.React.createElement(r.CalciteAction,{icon:"layers",text:"Karten","data-action-id":"layers"}),e.React.createElement(r.CalciteAction,{icon:"legend",text:"Legende","data-action-id":"legend"}),e.React.createElement(r.CalciteAction,{icon:"print",text:"Print","data-action-id":"print"})),e.React.createElement(r.CalcitePanel,{heading:"Karten","height-scale":"l","data-panel-id":"layers",hidden:!0},e.React.createElement("div",{id:"layers-container"})),e.React.createElement(r.CalcitePanel,{heading:"Legende","height-scale":"l","data-panel-id":"legend",hidden:!0},e.React.createElement("div",{id:"legend-container"})),e.React.createElement(r.CalcitePanel,{heading:"Print","height-scale":"l","data-panel-id":"print",hidden:!0},e.React.createElement("div",{id:"print-container"}))),e.React.createElement("div",{id:"view-container"})))}})(),s})())}}}));