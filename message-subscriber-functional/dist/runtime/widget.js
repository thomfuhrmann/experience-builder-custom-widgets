System.register(["jimu-core","esri/rest/support/Query"],(function(e,t){var r={},a={};return{setters:[function(e){r.DataSourceComponent=e.DataSourceComponent,r.DataSourceStatus=e.DataSourceStatus,r.React=e.React,r.utils=e.utils},function(e){a.default=e.default}],execute:function(){e((()=>{var e={7902:e=>{"use strict";e.exports=a},8891:e=>{"use strict";e.exports=r}},t={};function u(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,u),s.exports}u.d=(e,t)=>{for(var r in t)u.o(t,r)&&!u.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.p="";var s={};return u.p=window.jimuConfig.baseUrl,(()=>{"use strict";u.r(s),u.d(s,{default:()=>o});var e=u(8891),t=u(7902);const{useState:r,useEffect:a}=e.React;function o(u){const[s,o]=r(null);return a((()=>{o(new t.default({where:u.stateProps?u.stateProps.queryString:"1=1",outFields:["*"]}).toJSON())}),[e.utils.getValue(u,"stateProps.queryString")]),u.useDataSources&&1===u.useDataSources.length&&u.useDataSources[0].fields&&1===u.useDataSources[0].fields.length?e.React.createElement("div",{className:"widget-subscribe",style:{overflow:"auto",maxHeight:"700px"}},e.React.createElement(e.DataSourceComponent,{useDataSource:u.useDataSources[0],query:s,widgetId:u.id,localId:"query-result"},((t,r)=>{const a=r.status===e.DataSourceStatus.Loaded,s=u.useDataSources[0].fields&&u.useDataSources[0].fields[0]||"objectid",o=a?t.getRecords().map((t=>e.React.createElement("div",{key:t.getId()},t.getData()[s]))):null;return u.stateProps?e.React.createElement("div",null,e.React.createElement("div",null,"Query string: ",u.stateProps.queryString),e.React.createElement("div",null,"Status: ",r.status),e.React.createElement("div",null,"Field name: ",s),e.React.createElement("div",null,"Query result:"),o):e.React.createElement("div",null,"This widget will listen to a FEATURE_SELECTION_CHANGE message and run a query.")}))):e.React.createElement("h3",null,"Please configure a data source.")}})(),s})())}}}));